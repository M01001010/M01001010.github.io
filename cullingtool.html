<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Point Position Applications</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src = "https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=python&amp;skin=sunburst"></script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Home</a></li>
							<li class="active"><a href="cullingtool.html">Optimizing Heavy Shots</a></li>
						</ul>
						<ul class="icons">
							<li><a href="#" class="icon fa-eye" id="count"><span class="label"></span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									
									<h1>Optimizing Heavy Shots</h1>
									
								</header>
								
								<span class="image fit"><img src="images/culling/landscape.JPG" alt="" /></span>
									<p> 
										A wide shot of a landscape can contain millions of instance points, many of which may not contribute to the final pixel.<br/>
										This is why I developed an HDA in Houdini for The Lion King movie, which calculates which points to keep and which to cull.<br/>
										

										<h3>How does it work?</h3>

										First, we simplify the instance points by having one point represent a cluster of points within a certain radius. <br/>
										This speeds up subsequent calculations.<br/><br/>

										<span class="image fit"><img src="images/culling/heavytolight.JPG" alt="" /></span>
										<br/><br/>

										
										We further optimize by working only with the points within the frustum, and we can extrude the frustum <br/>
										to ensure we're not culling points near the camera's edge. <br/><br/>


										<span class="image fit"><img src="images/culling/frustum.JPG" alt="" /></span>
										<br/><br/>


										Within the frustum, we determine which points are visible and which are blocked. <br/>
										One method is to shoot a ray from each point to the camera. <br/>
										If the ray is not blocked, the point is visible.<br/>

										<span class="image fit"><img src="images/culling/explaination.JPG" alt="" /></span>
										<br/><br/>
									
										<span class="image fit"><img src="images/culling/ray.JPG" alt="" /></span>
										<br/><br/>


										We extend the visible map for safety, as it's better to retain more points than to cull necessary ones.<br/>



										<span class="image fit"><img src="images/culling/bleed.JPG" alt="" /></span>
										<br/><br/>

										Additionally, we have the option never to cull a point if it is within a certain radius from the camera. <br/>

										<span class="image fit"><img src="images/culling/near.JPG" alt="" /></span>
										<br/><br/>

										Once we've computed which points to keep and which to cull, we transfer the results to the original dense points. <br/>

										<span class="image fit"><img src="images/culling/result.JPG" alt="" /></span>
										<br/><br/>

										Let's see the results from the rendering camera. I'll also add a large pig head to observe how many points behind it we can cull. <br/>

										<span class="image fit"><img src="images/culling/testgif.gif" alt="" /></span>
										<br/><br/>

										Nice! but what if the camera is moving?<br/>

										<span class="image fit"><img src="images/culling/animgif.gif" alt="" /></span>
										<br/><br/>

										To address this, we can keep the points visible in any frame. <br/>
										
										<br/>
										I've simplified a lot of what's actually done in a production environment :) <br/><br/>
										

										<span class="image fit"><img src="images/culling/feynman.JPG" alt="" /></span>
										<br/><br/>

										
										You can download the Houdini setup I used as an example here:<br/>
										
										<a href="https://github.com/M01001010/CullingHDA">Houdini File</a>

										

									</p>
									<!-- Break -->
									
							</section>

					</div>

				
			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="assets/js/counter_pointposition.js"></script>

	</body>
</html>