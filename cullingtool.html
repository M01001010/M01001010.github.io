<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Point Position Applications</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src = "https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=python&amp;skin=sunburst"></script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Home</a></li>
							<li class="active"><a href="cullingtool.html">Optimizing Heavy Shots</a></li>
						</ul>
						<ul class="icons">
							<li><a href="#" class="icon fa-eye" id="count"><span class="label"></span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									
									<h1>Optimizing Heavy Shots</h1>
									
								</header>
								
								<span class="image fit"><img src="images/culling/landscape.JPG" alt="" /></span>
									<p> 
										
										A wide shot of a landscape can have millions and millions of instance points, a lot of which may not make it to the final pixel.<br/>
										This is why I've developed this HDA in Houdini where it can calculate what points to keep and what instance points we can cull.<br/>
										

										<h3>How does it work?</h3>

										First, we need to simplify the instance points, we can make one point represent a cluster of points within X radius.<br/>
										This will speed up any calculation we'll do later.<br/><br/>

										<span class="image fit"><img src="images/culling/heavytolight.JPG" alt="" /></span>
										<br/><br/>

										
										We can optimize it further by just working with the points in the furstum, and yes we can extrude the frustum <br/>
										to make sure we're not culling the points on the camera edge. <br/><br/>


										<span class="image fit"><img src="images/culling/frustum.JPG" alt="" /></span>
										<br/><br/>


										Now within the frustum let's find what point can be seen and what's being blocked.<br/>
										How do we go about that? <br/>
										One method is to shoot a ray from each point to the camera. If nothing blocks the ray, that means the camera can see it.<br/>

										<span class="image fit"><img src="images/culling/explaination.JPG" alt="" /></span>
										<br/><br/>
									
										<span class="image fit"><img src="images/culling/ray.JPG" alt="" /></span>
										<br/><br/>


										We can extend the visible map just for safty. It's best to keep more points than needed rather than culling points that shouldn't be culled.<br/>



										<span class="image fit"><img src="images/culling/bleed.JPG" alt="" /></span>
										<br/><br/>

										We have the option to never cull a point if it's within X radius from the camera. <br/>

										<span class="image fit"><img src="images/culling/near.JPG" alt="" /></span>
										<br/><br/>

										Now that we've computed what to keep and what to cull, we can transfer the computation result to the original dense points. <br/>

										<span class="image fit"><img src="images/culling/result.JPG" alt="" /></span>
										<br/><br/>

										Let's see the result from the rendering camera. I'm also going to throw a large pig head there to see how much points behind it we can cull. <br/>

										<span class="image fit"><img src="images/culling/testgif.gif" alt="" /></span>
										<br/><br/>

										Nice! but what if the camera is moving?<br/>

										<span class="image fit"><img src="images/culling/animgif.gif" alt="" /></span>
										<br/><br/>

										What we can do here is keep the points if it is visible at any frame. <br/>
										
										<br/>
										I've simplified a lot of what's actually been done in a production environment :) <br/><br/>
										

										<span class="image fit"><img src="images/culling/feynman.JPG" alt="" /></span>
										<br/><br/>

										
										You can download the houdini setup up I used here as an example:<br/>
										
										<a href="https://github.com/M01001010/CullingHDA">Houdini File</a>

										

									</p>
									<!-- Break -->
									
							</section>

					</div>

				
			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="assets/js/counter_pointposition.js"></script>

	</body>
</html>